<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>스물다섯 스물하나 지도 API</title>
    <link rel="icon" type="image/png" href="{{url_for('static', filename='assets/2521/mini.png')}}">
</head>
<body>
	<div id="map" style="width:100%;height:100vh;"></div>
	<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=86cc501251068d3a4af923c697056fc6&libraries=clusterer"></script>
	<script>
		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
		    mapOption = {
		        center: new kakao.maps.LatLng(35.814536, 127.151836), // 지도의 중심좌표
		        level: 12, // 지도의 확대 레벨
		        mapTypeId : kakao.maps.MapTypeId.ROADMAP // 지도종류
		    }; 
​
		// 지도를 생성한다 
		var map = new kakao.maps.Map(mapContainer, mapOption); 
​
        // 마커 클러스터러를 생성합니다 
        var clusterer = new kakao.maps.MarkerClusterer({
            map: map, // 마커들을 클러스터로 관리하고 표시할 지도 객체 
            averageCenter: true, // 클러스터에 포함된 마커들의 평균 위치를 클러스터 마커 위치로 설정 
            minLevel: 6 // 클러스터 할 최소 지도 레벨 
        });
​
        var data = [
            [35.814710, 127.152601, '<div style="padding:5px">전주한옥마을</div>'],
            [35.813167,127.155306,'<div style="padding:5px">희도네</div>'],
            [35.808312,127.151849,'<div style="padding:5px">명진책대여점</div>'],
            [35.806452,127.157873,'<div style="padding:5px">아현슈퍼</div>'],
            [35.812434,127.155443,'<div style="padding:5px">이진 신문배달 골목길</div>'],
            [35.821701,127.158122,'<div style="padding:5px">선중여고 수돗가</div>'],
            [35.809249,127.158192,'<div style="padding:5px">태양고등학교 버스정류장</div>'],
            [35.811977,127.161041,'<div style="padding:5px">행복 약속과 이별</div>'],
            [35.795395,127.124411,'<div style="padding:5px">뽑기 문구점</div>'],
            [35.833144,127.153414,'<div style="padding:5px">희도의 목공 배움 장소</div>'],
            [35.819549,127.153417,'<div style="padding:5px">유림-지웅 오락실 데이트</div>'],
            [37.583822,126.969097,'<div style="padding:5px">코끼리분식(유림이네)</div>'],
            [37.580519,127.002811,'<div style="padding:5px">라이더37-인절미 첫만남 장소</div>'],
            [37.677734,127.035952,'<div style="padding:5px">희도 훈련ver.모래주머니</div>'],
            [37.588976,126.986732,'<div style="padding:5px">희도 훈련ver.약수터</div>'],
            [37.544646,126.951864,'<div style="padding:5px">희도&코치쌤 국가대표 기념 회식</div>'],
            [37.571174,126.977675,'<div style="padding:5px">이진 기자 되고 반 년만의 재회</div>'],
            [37.56993,126.983583,'<div style="padding:5px">새해맞이 취재</div>'],
            [37.610281,127.042737,'<div style="padding:5px">새해맞이 불꽃구경</div>'],
            [37.530587,127.041643,'<div style="padding:5px">지웅 댄스배틀</div>'],
            [37.819214,128.890457,'<div style="padding:5px">수학여행 숙소</div>'],
            [38.316442,128.533601,'<div style="padding:5px">수학여행 바다</div>'],
            [37.636471,129.044975,'<div style="padding:5px">수학여행 이튿날</div>'],
            [37.554785,129.118974,'<div style="padding:5px">이진 삼촌네</div>'],
            [37.267224,129.328813,'<div style="padding:5px">응원이 닿기를</div>'],
            [38.024766,128.722318,'<div style="padding:5px">이진-이진엄마 바다 데이트</div>'],
            [37.888665,127.70842,'<div style="padding:5px">무지개</div>'],
            [37.338145,127.940987,'<div style="padding:5px">이진 파라솔 질투</div>'],
            [37.478029,126.628123,'<div style="padding:5px">유람 서점 문구</div>'],
            [37.473805,126.620447,'<div style="padding:5px">슬리퍼 벗겨진 날</div>'],
            [37.290063,127.034988,'<div style="padding:5px">유림 다이빙장</div>'],
            [37.624223,126.846748,'<div style="padding:5px">UBS 회식 장소</div>'],
            [37.663052,126.767687,'<div style="padding:5px">이진 뉴욕 카페</div>'],
            [37.277444,127.013549,'<div style="padding:5px">동네 버스정류장</div>'],
            [35.854174,129.097301,'<div style="padding:5px">펜싱칼 찾으러 간 영천역</div>'],
            [35.844368,129.217767,'<div style="padding:5px">펜싱칼 찾으러 간 경주역</div>'],
            [35.842679,129.286341,'<div style="padding:5px">희도-이진 경주 아시안 게임 경기장 가는 길</div>'],
            [35.525903,126.553324,'<div style="padding:5px">이진-희도 A코스</div>'],
            [35.881614,127.245093,'<div style="padding:5px">알콩-달콩-이진 3자대면</div>'],
            [36.112786,127.492222,'<div style="padding:5px">민채 발레 경기장</div>'],
            [36.184074,127.095053,'<div style="padding:5px">태양고등학교</div>'],
            [36.922031,126.599828,'<div style="padding:5px">희도 달리기 - 이진 스포츠카</div>'],
            [37.908219,127.055713,'<div style="padding:5px">영화 데이트</div>']
        ]
​
        var markers = [];
​
        for (var i=0; i < data.length; i++) {
             // 지도에 마커를 생성하고 표시한다
            var marker = new kakao.maps.Marker({
                position: new kakao.maps.LatLng(data[i][0], data[i][1]), // 마커의 좌표
                map: map // 마커를 표시할 지도 객체
            });
​
            // 인포윈도우를 생성합니다
            var infowindow = new kakao.maps.InfoWindow({
                content : data[i][2]
            });
​
            // 인포윈도우를 표시하는 클로저를 만드는 함수입니다 
            function makeOverListener(map, marker, infowindow) {
                return function() {
                    infowindow.open(map, marker);
                };
            }
            // 인포윈도우를 닫는 클로저를 만드는 함수입니다 
            function makeOutListener(infowindow) {
                return function() {
                    infowindow.close();
                };
            }
​
            // 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
            // 이벤트 리스너로는 클로저를 만들어 등록합니다 
            // for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
            kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
            kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
​
            // 마커 위에 인포윈도우를 표시합니다. 두번째 파라미터인 marker를 넣어주지 않으면 지도 위에 표시됩니다
            markers.push(marker);
        }
        // 클러스터러에 마커들을 추가합니다
        clusterer.addMarkers(markers);
​
        // 지도 확대 축소를 제어할 수 있는  줌 컨트롤을 생성합니다
        var zoomControl = new kakao.maps.ZoomControl();
        map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
	</script>
</body>
</html>